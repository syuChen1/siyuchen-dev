import{D as o,S as e,P as t,W as n,a,M as s,b as i,c,A as r,T as d,d as l}from"./vendor.671f623d.js";var p=0;const w=new o;w.setDecoderPath("./src/draco/");const u=new e,y=new t(75,window.innerWidth/window.innerHeight,.1,1e3),m=new n({canvas:document.querySelector("#bg")});m.setPixelRatio(window.devicePixelRatio),m.setSize(window.innerWidth,window.innerHeight),y.position.setZ(30),y.position.setX(-3),m.render(u,y);const f=new a(10),g=new s({color:16777215,wireframe:!0}),b=new i(f,g);u.add(b);const x=new c(16777215);x.position.set(5,5,5);const h=new r(16777215,.75);u.add(x,h),Array(200).fill().forEach((function(){const o=new a(.25,24,24),e=new s({color:16777215,opacity:.7,transparent:!0}),t=new i(o,e),[n,c,r]=Array(3).fill().map((()=>l.randFloatSpread(100)));t.position.set(n,c,r),u.add(t)}));const z=(new d).load("/siyuchen-dev/assets/ocean2.ffdb8f21.jpg");u.background=z;const S=(new d).load("/siyuchen-dev/assets/seastar_texture.2d87a241.jpeg");w.load("./src/seastar.drc",(function(o){const e=new s({map:S}),t=new i(o,e);t.scale.multiplyScalar(.03),t.name="seastar",t.position.z=-5,t.position.y=-1,t.position.x=3,u.add(t),2===++p&&document.querySelector("body").classList.toggle("loaded")}),(function(o){console.log(o.loaded/o.total*100+"% loaded")}),(function(o){console.error(o)}));const j=(new d).load("/siyuchen-dev/assets/scallop_texture.d47d12f7.png");function v(){const o=u.getObjectByName("seastar"),e=u.getObjectByName("scallop"),t=document.body.getBoundingClientRect().top;o&&(o.position.z=-.01*t-5,o.position.x=-2e-4*t+3,o.position.y=-1),e&&(e.rotation.x+=.015,e.rotation.y+=.03,e.rotation.z+=.015,t<-3e3&&(e.position.z=-.005*(t+3e3)+17,e.position.x=-2e-4*(t+3e3)-10)),y.position.z=-.01*t,y.position.x=-2e-4*t}w.load("./src/scallop.drc",(function(o){const e=new s({map:j}),t=new i(o,e);t.scale.multiplyScalar(.08),t.name="scallop",t.position.z=17,t.position.y=0,t.position.x=-10,u.add(t),2===++p&&document.querySelector("body").classList.toggle("loaded")}),(function(o){console.log(o.loaded/o.total*100+"% loaded")}),(function(o){console.error(o)})),document.body.onscroll=v,v(),function o(){requestAnimationFrame(o),b.rotation.x+=.001,b.rotation.y+=.001,b.rotation.z+=.001;const e=u.getObjectByName("seastar");e&&(e.rotation.x-=.0017,e.rotation.z+=.009);const t=u.getObjectByName("scallop");t&&(t.rotation.y+=.01),m.render(u,y)}();
